# [JavaScript] Namespace Pattern (네임스페이스 패턴)


**네임스페이스 패턴**은 전역 범위에 있는 함수, 변수, 객체들을 하나의 전역 객체에 추가하는 패턴이다. (하나만 만드는 것이 좋다.)
하나의 전역 객체를 만들고 기능을 이 객체에 추가하여 이름이 겹치지 않게 해주며 전역 변수의 개수를 줄이게 해준다.

## 네임스페이스 패턴 사용법
```javascript
function X(){}
var test = 1;
var testModule = {}
```
전역 객체를 만든 후, 모든 함수와 변수를 이 객체의 프로퍼티로 변경한다.
```javascript
// 위의 코드를 아래와 같이 바꿈
var myTest = {};

myTest.X = function(){};
myTest.test = 1;
mytest.testModule = {};
```
### 범용 네임스페이스 함수
많은 프로그램을 작성하다보면 네임스페이스의 전역 객체가 겹칠 수도 있다.
네임스페이스에 추가하려는 내용이 이미 존재할 수도 있고 내용을 덮어쓸 수도 있다.
따라서 **네임스페이스를 추가하기 전에 존재여부를 확인하여야 한다.**

```javascript
if(typeof meTest === 'undefined'){
	var myTest{};
}

//혹은

var myTest = myTest || {};
//myTest가 존재할 경우, 원래의 myTest를, 존재하지 않을 경우 빈 객체를 반환한다.
```
하지만 위와 같은 방식을 사용할 경우, 중복을 확인해주는 코드가 많이 생길 수 있다.
따라서 재사용가능한 함수를 만들어주는 것이 좋다.


### 주의할 점
 - 네임스페이스로 사용되고 있는 객체는 this를 사용하여 참조하면 안된다.
 > 함수 영역 안에 있는 **this**는 부모의 자식으로 불렸을 때에만 그 부모 객체를 가리키고, 직접 호출하였을 때에는 전역 객체를 가리킨다.


## 네임스페이스의 장단점
- 장점
1. 코드 내에서의 이름 충돌을 방지 할 수 있다.
2. 이 코드와 같은 페이지에 존재하는 다른 코드와의 이름 충돌도 방지 할 수 있다. 
- 단점
1. 모든 변수와 함수에 상위 객체이름을 붙여야하기 때문에 코드량이 많아진다.
2. 전역 인스턴스는 하나뿐이라 코드의 한 부분을 수정하면 전역 인스턴스를 수정해야 한다.  